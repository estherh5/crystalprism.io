<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <meta name="description" content="Want to learn more about controlling your blood pressure? Move your heart to avoid blood pressure stressors and seek out relievers to stay healthy through this educational game.">
    <meta name="keywords" content="blood pressure game,educational game,heart game,blood pressure stress,blood pressure relief">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="shortcut icon" type="image/x-icon" href="favicon.ico">

    <!-- Google Fonts and CSS stylesheets -->
    <link href="https://fonts.googleapis.com/css?family=Londrina+Outline|Poiret+One|Rajdhani|Ribeye|Tangerine|Wire+One" rel="stylesheet">
    <link href="../common.css" rel="stylesheet">
    <link id="stylesheet" href="style.css" rel="stylesheet">

    <!-- Google Analytics script to track page views -->
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-91236421-1', 'auto');
      ga('send', 'pageview');
    </script>

    <title>Rhythm of Life</title>
  </head>
  <body>
    <!-- Load main game piece (SVG heart) into object element -->
    <object id="heart" height="0" width="0" type="image/svg+xml" data="images/heart.svg"></object>

    <!-- Warnings for screens that are not the correct size/orientation -->
    <div id="warning">Please switch to a larger window.</div>
    <div id="warning-mobile">Please switch to landscape mode.</div>

    <!-- Game button controls -->
    <div class="control-buttons left">
      <button id="pause">Pause</button>
      <button id="restart">Start Over</button>
      <button id="learn-more-desktop">Learn More</button>
      <button id="sound"></button>
    </div>

    <!-- Additional game button controls for mobile only -->
    <div class="control-buttons right">
      <button id="learn-more-mobile">Learn More</button>
      <button id="display-leaders">Leaders</button>
    </div>

    <!-- Blood pressure and lifespan score -->
    <h1 id="blood-pressure">BP: <text id="systolic">100</text>/<text id="diastolic">70</text></h1>
    <h1 id="lifespan">Lifespan: 00:00:00</h1>

    <!-- Main game container -->
    <div class="container">

      <!-- Left side panel for desktop -->
      <div id="left-panel">
        <!-- List of SVG stressors to avoid in game -->
        <div id="stressboard" class="side-board">
          <table class="side-table">
            <thead>
              <caption class="side-table-title">Stressors</caption>
            </thead>
            <tbody>
              <tr>
                <td>
                  <object class="stressor" type="image/svg+xml" data="images/alcohol.svg"></object>
                </td>
              </tr>
                <td>
                  <object class="stressor" type="image/svg+xml" data="images/salt.svg"></object>
                </td>
              <tr>
                <td>
                  <object class="stressor" type="image/svg+xml" data="images/cigarette.svg"></object>
                </td>
              </tr>
              <tr>
                <td>
                  <object class="stressor" type="image/svg+xml" data="images/stress.svg"></object>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
        <!-- List of SVG relievers to seek out in game -->
        <div id="reliefboard" class="side-board">
          <table class="side-table">
            <thead>
              <caption class="side-table-title">Relievers</caption>
            </thead>
            <tbody>
              <tr>
                <td>
                  <object class="reliever" type="image/svg+xml" data="images/bicycle.svg"></object>
                </td>
              </tr>
              <tr>
                <td>
                  <object class="reliever" type="image/svg+xml" data="images/yoga.svg"></object>
                </td>
              </tr>
              <tr>
                <td>
                  <object class="reliever" type="image/svg+xml" data="images/fruit.svg"></object>
                </td>
              </tr>
              <tr>
                <td>
                  <object class="reliever" type="image/svg+xml" data="images/pill.svg"></object>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>

      <!-- Central game area for desktop and mobile -->
      <div id="game-board">

        <!-- SVG canvas where SVGs are added and game is played -->
        <svg id="svg-game"></svg>

        <!-- Starting screen for desktop, with game instructions -->
        <div id="start-screen-desktop" class="screen">
          <text id="start-title">Rhythm of Life</text>
          Use the arrow keys to move your heart.
          <br>
          Avoid stressors and seek relievers to keep your blood pressure low.
          <br>
          Press Learn More for more information.
          <br>
          Press an arrow key to start.
        </div>

        <!-- Starting screen for mobile, with game instructions -->
        <div id="start-screen-mobile" class="screen">
          <text id="start-title">Rhythm of Life</text>
          Swipe left, right, up or down to move your heart.
          <br>
          Avoid stressors and seek relievers to keep your blood pressure low.
          <br>
          Press Learn More for more information.
          <br>
          Swipe in any direction to start.
        </div>

        <!-- Game Over screen -->
        <div id="game-over-screen" class="screen">
          <text id="game-over-title">Game Over</text>
          <br>
          <div>
            <text>Play again?</text>
            <button id="retry">Restart</button>
          </div>
        </div>

        <!-- Pause screen for desktop -->
        <div id="pause-screen-desktop" class="screen">
          <text id="pause-title">Paused</text>
          <br>
          Press Resume or an arrow to continue.
        </div>

        <!-- Pause screen for mobile -->
        <div id="pause-screen-mobile" class="screen">
          <text id="pause-title">Paused</text>
          <br>
          Press Resume or swipe to continue.
        </div>

        <!-- Learn More screen -->
        <div id="learn-more-screen" class="screen">
          <!-- List of stressors and their effects on blood pressure, with sources -->
          <table id="stress-description">
            <thead>
              <caption class="description-title">Stressors</caption>
            </thead>
            <tbody>
              <tr>
                <td>
                  <div class="description">
                    Drinking too much alcohol can <a href="http://www.mayoclinic.org/diseases-conditions/high-blood-pressure/expert-answers/blood-pressure/faq-20058254" rel="noopener noreferrer" target="_blank">raise blood pressure</a> to unhealthy levels.
                  </div>
                </td>
                <td>
                  <object class="description-image" type="image/svg+xml" data="images/alcohol.svg"></object>
                </td>
              </tr>
              <tr>
                <td>
                  <div class="description">
                    Salt makes your body hold on to more water, <a href="http://www.bloodpressureuk.org/microsites/salt/Home/Whysaltisbad/Saltseffects" rel="noopener noreferrer" target="_blank">raising your blood pressure</a>.
                  </div>
                </td>
                <td>
                  <object class="description-image" type="image/svg+xml" data="images/salt.svg"></object>
                </td>
              </tr>
              <tr>
                <td>
                  <div class="description">
                    Nicotine <a href="http://www.webmd.com/hypertension-high-blood-pressure/guide/smoking-kicking-habit#1" rel="noopener noreferrer" target="_blank">raises your blood pressure</a> and sets you up for a heart attack or stroke.
                  </div>
                </td>
                <td>
                  <object class="description-image" type="image/svg+xml" data="images/cigarette.svg"></object>
                </td>
              </tr>
              <tr>
                <td>
                  <div class="description">
                    Stress increases heart disease risks, including <a href="http://www.heart.org/HEARTORG/HealthyLiving/StressManagement/HowDoesStressAffectYou/Stress-and-Heart-Health_UCM_437370_Article.jsp" rel="noopener noreferrer" target="_blank">raising blood pressure</a>.
                  </div>
                </td>
                <td>
                  <object class="description-image" type="image/svg+xml" data="images/stress.svg"></object>
                </td>
              </tr>
            </tbody>
          </table>
          <!-- List of relievers and their effects on blood pressure, with sources -->
          <table id="relief-description">
            <thead>
              <caption class="description-title">Relievers</caption>
            </thead>
            <tbody>
              <tr>
                <td>
                  <div class="description">
                    Regular exercise strengthens your heart, <a href="http://www.mayoclinic.org/diseases-conditions/high-blood-pressure/in-depth/high-blood-pressure/art-20045206" rel="noopener noreferrer" target="_blank">lowering your blood pressure</a>.
                  </div>
                </td>
                <td>
                  <object class="description-image" type="image/svg+xml" data="images/bicycle.svg"></object>
                </td>
              </tr>
              <tr>
                <td>
                  <div class="description">
                    Yoga <a href="https://yogainternational.com/article/view/5-poses-to-reduce-hypertension" rel="noopener noreferrer" target="_blank">reduces stress-induced hypertension</a> and its underlying causes.
                  </div>
                </td>
                <td>
                  <object class="description-image" type="image/svg+xml" data="images/yoga.svg"></object>
                </td>
              </tr>
              <tr>
                <td>
                  <div class="description">
                    The DASH diet <a href="http://www.mayoclinic.org/healthy-lifestyle/nutrition-and-healthy-eating/in-depth/dash-diet/art-20048456" rel="noopener noreferrer" target="_blank">prevents high blood pressure<a> by increasing K, Ca and Mg.
                  </div>
                </td>
                <td>
                  <object class="description-image" type="image/svg+xml" data="images/fruit.svg"></object>
                </td>
              </tr>
              <tr>
                <td>
                  <div class="description">
                    Beta-blockers reduce the heart's work, <a href="http://www.webmd.com/hypertension-high-blood-pressure/guide/hypertension-treatment-beta-blockers#1" rel="noopener noreferrer" target="_blank">lowering blood pressure</a>.
                  </div>
                </td>
                <td>
                  <object class="description-image" type="image/svg+xml" data="images/pill.svg"></object>
                </td>
              </tr>
            </tbody>
          </table>
          <button id="learn-more-close" class="close">X</button>
        </div>

        <!-- Leaders screen for mobile -->
        <div id="leader-screen" class="screen">
          <table>
            <thead>
              <caption id="leader-title">Leaderboard</caption>
              <tr>
                <th>Score</th>
                <th>Name</th>
              </tr>
            </thead>
            <!-- List of top 5 game leaders and their scores -->
            <tbody>
              <tr id="first-mobile" class="leaders-mobile"></tr>
              <tr id="second-mobile" class="leaders-mobile"></tr>
              <tr id="third-mobile" class="leaders-mobile"></tr>
              <tr id="fourth-mobile" class="leaders-mobile"></tr>
              <tr id="fifth-mobile" class="leaders-mobile"></tr>
            </tbody>
          </table>
          <button id="leader-close" class="close">X</button>
        </div>

      </div>

      <!-- Right side panel for desktop -->
      <div id="right-panel">
        <!-- List of blood pressure ranges colored based on severity -->
        <div id="ranges" class="side-board">
          <table class="side-table">
            <thead>
              <caption class="side-table-title">Blood Pressure Ranges</caption>
              <tr>
                <th>Systolic</th>
                <th>Diastolic</th>
              </tr>
            </thead>
            <tbody>
              <!-- Normal range -->
              <tr id="green">
                <td>&#60;120</td>
                <td>&#60;80</td>
              </tr>
              <!-- Prehypertension range -->
              <tr id="yellow">
                <td>120-139</td>
                <td>80-89</td>
              </tr>
              <!-- Hypertension Stage 1 range -->
              <tr id="orange">
                <td>140-159</td>
                <td>90-99</td>
              </tr>
              <!-- Hypertension Stage 2 range -->
              <tr id="red">
                <td>160+</td>
                <td>100+</td>
              </tr>
            </tbody>
          </table>
        </div>
        <!-- List of top 5 game leaders and their scores -->
        <div id="leaderboard" class="side-board">
          <table class="side-table">
            <thead>
              <caption class="side-table-title">Leaderboard</caption>
              <tr>
                <th>Score</th>
                <th>Name</th>
              </tr>
            </thead>
            <tbody>
              <tr id="first" class="leaders"></tr>
              <tr id="second" class="leaders"></tr>
              <tr id="third" class="leaders"></tr>
              <tr id="fourth" class="leaders"></tr>
              <tr id="fifth" class="leaders"></tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>

    <!-- Fetch polyfill script -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fetch/2.0.3/fetch.min.js"></script>

    <!-- Howler script -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/howler/2.0.2/howler.js"></script>

    <!-- Snap.svg script -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/snap.svg/0.4.1/snap.svg-min.js"></script>

    <!-- Main and common JS scripts -->
    <script src="../common.js"></script>
    <script src="main.js"></script>

  </body>
</html>
